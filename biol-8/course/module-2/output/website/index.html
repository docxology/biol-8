<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 2</title>
    <style>

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    line-height: 1.6;
    color: #333;
    background-color: #f5f5f5;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    background-color: #2c2c2c;
    color: #fff;
    padding: 30px 20px;
    margin-bottom: 30px;
    border-radius: 5px;
}

header h1 {
    font-size: 2em;
    margin-bottom: 10px;
}

header p {
    color: #ccc;
    font-size: 1.1em;
}

section {
    background-color: #fff;
    padding: 30px;
    margin-bottom: 30px;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    position: relative;
    overflow: hidden;
    min-height: 200px;
    min-width: 300px;
}

section.resizable {
    resize: both;
    overflow: auto;
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    cursor: pointer;
    user-select: none;
}

.section-header h2 {
    margin: 0;
    flex: 1;
}

.section-controls {
    display: flex;
    gap: 10px;
    align-items: center;
}

.collapse-toggle {
    background: none;
    border: none;
    font-size: 1.5em;
    cursor: pointer;
    color: #666;
    padding: 5px 10px;
    transition: transform 0.3s;
}

.collapse-toggle:hover {
    color: #333;
}

.collapse-toggle.collapsed {
    transform: rotate(-90deg);
}

.section-content {
    transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
    overflow: hidden;
}

.section-content.collapsed {
    max-height: 0;
    opacity: 0;
    padding: 0;
    margin: 0;
}

.resize-controls {
    display: flex;
    gap: 10px;
    margin-top: 10px;
    padding: 10px;
    background-color: #f9f9f9;
    border-radius: 3px;
}

.resize-slider {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 10px;
}

.resize-slider label {
    font-size: 0.9em;
    color: #666;
    min-width: 60px;
}

.resize-slider input[type="range"] {
    flex: 1;
    height: 5px;
    border-radius: 5px;
    background: #ddd;
    outline: none;
}

.resize-slider input[type="range"]::-webkit-slider-thumb {
    appearance: none;
    width: 15px;
    height: 15px;
    border-radius: 50%;
    background: #666;
    cursor: pointer;
}

.resize-slider input[type="range"]::-moz-range-thumb {
    width: 15px;
    height: 15px;
    border-radius: 50%;
    background: #666;
    cursor: pointer;
    border: none;
}

.resize-value {
    font-size: 0.9em;
    color: #666;
    min-width: 50px;
    text-align: right;
}

section h2 {
    color: #2c2c2c;
    border-bottom: 3px solid #666;
    padding-bottom: 10px;
    margin-bottom: 20px;
    font-size: 1.8em;
}

section h3 {
    color: #444;
    margin-top: 25px;
    margin-bottom: 15px;
    font-size: 1.4em;
}

section h4 {
    color: #555;
    margin-top: 20px;
    margin-bottom: 10px;
    font-size: 1.2em;
}

p {
    margin-bottom: 15px;
    color: #444;
}

ul, ol {
    margin-left: 30px;
    margin-bottom: 15px;
}

li {
    margin-bottom: 8px;
    color: #444;
}

audio {
    width: 100%;
    margin: 20px 0;
    background-color: #f0f0f0;
    border-radius: 5px;
}

.audio-section {
    background-color: #f9f9f9;
    padding: 20px;
    border-left: 4px solid #666;
    margin: 20px 0;
}

.quiz-container {
    background-color: #f9f9f9;
    padding: 20px;
    border-radius: 5px;
    margin: 20px 0;
}

.quiz-question {
    margin-bottom: 20px;
    padding: 15px;
    background-color: #fff;
    border-left: 3px solid #666;
}

.quiz-question h4 {
    margin-top: 0;
    margin-bottom: 10px;
}

.quiz-options {
    list-style: none;
    margin-left: 0;
    margin-top: 10px;
}

.quiz-option {
    padding: 10px;
    margin: 5px 0;
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 3px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.quiz-option:hover {
    background-color: #e9e9e9;
}

.quiz-option.selected {
    background-color: #d0d0d0;
    border-color: #666;
}

.quiz-option.correct {
    background-color: #c8e6c9;
    border-color: #4caf50;
}

.quiz-option.incorrect {
    background-color: #ffcdd2;
    border-color: #f44336;
}

.quiz-feedback {
    margin-top: 10px;
    padding: 10px;
    border-radius: 3px;
    display: none;
}

.quiz-feedback.show {
    display: block;
}

.quiz-feedback.correct {
    background-color: #c8e6c9;
    color: #2e7d32;
}

.quiz-feedback.incorrect {
    background-color: #ffcdd2;
    color: #c62828;
}

.check-answer-btn {
    background-color: #666;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 3px;
    cursor: pointer;
    margin-top: 10px;
    font-size: 1em;
}

.check-answer-btn:hover {
    background-color: #555;
}

.content-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 20px;
    margin: 20px 0;
}

@media (min-width: 768px) {
    .content-grid {
        grid-template-columns: 1fr 1fr;
    }
}

.code-block {
    background-color: #f5f5f5;
    border: 1px solid #ddd;
    border-radius: 3px;
    padding: 15px;
    overflow-x: auto;
    margin: 15px 0;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
}

table th, table td {
    border: 1px solid #ddd;
    padding: 12px;
    text-align: left;
}

table th {
    background-color: #2c2c2c;
    color: #fff;
}

table tr:nth-child(even) {
    background-color: #f9f9f9;
}

footer {
    text-align: center;
    padding: 20px;
    color: #666;
    margin-top: 40px;
}

.question-container {
    background-color: #f9f9f9;
    padding: 20px;
    margin: 20px 0;
    border-radius: 5px;
    border-left: 4px solid #666;
}

.question-header {
    display: flex;
    justify-content: space-between;
    align-items: start;
    margin-bottom: 15px;
}

.question-text {
    font-weight: 600;
    color: #2c2c2c;
    margin-bottom: 15px;
}

.question-type-badge {
    display: inline-block;
    padding: 3px 8px;
    border-radius: 3px;
    font-size: 0.75em;
    font-weight: 600;
    text-transform: uppercase;
    background-color: #666;
    color: #fff;
}

.multiple-choice-options {
    list-style: none;
    margin: 15px 0;
    padding: 0;
}

.multiple-choice-option {
    padding: 12px;
    margin: 8px 0;
    background-color: #fff;
    border: 2px solid #ddd;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.2s;
}

.multiple-choice-option:hover {
    background-color: #f0f0f0;
    border-color: #999;
}

.multiple-choice-option input[type="radio"] {
    margin-right: 10px;
}

.multiple-choice-option.selected {
    background-color: #e3f2fd;
    border-color: #2196f3;
}

.multiple-choice-option.correct {
    background-color: #c8e6c9;
    border-color: #4caf50;
}

.multiple-choice-option.incorrect {
    background-color: #ffcdd2;
    border-color: #f44336;
}

.free-response-textarea {
    width: 100%;
    min-height: 150px;
    padding: 12px;
    border: 2px solid #ddd;
    border-radius: 5px;
    font-family: inherit;
    font-size: 1em;
    resize: vertical;
    margin: 10px 0;
}

.free-response-textarea:focus {
    outline: none;
    border-color: #666;
}

.char-count {
    font-size: 0.9em;
    color: #666;
    text-align: right;
    margin-top: 5px;
}

.true-false-buttons {
    display: flex;
    gap: 15px;
    margin: 15px 0;
}

.true-false-btn {
    flex: 1;
    padding: 15px 30px;
    border: 2px solid #ddd;
    border-radius: 5px;
    background-color: #fff;
    cursor: pointer;
    font-size: 1.1em;
    font-weight: 600;
    transition: all 0.2s;
}

.true-false-btn:hover {
    background-color: #f0f0f0;
    border-color: #999;
}

.true-false-btn.selected {
    background-color: #e3f2fd;
    border-color: #2196f3;
}

.true-false-btn.correct {
    background-color: #c8e6c9;
    border-color: #4caf50;
}

.true-false-btn.incorrect {
    background-color: #ffcdd2;
    border-color: #f44336;
}

.matching-container {
    margin: 15px 0;
}

.matching-pairs {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin: 15px 0;
}

.matching-item {
    padding: 12px;
    background-color: #fff;
    border: 2px solid #ddd;
    border-radius: 5px;
}

.matching-term {
    font-weight: 600;
    margin-bottom: 8px;
    color: #2c2c2c;
}

.matching-select {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 3px;
    font-family: inherit;
}

.matching-select:focus {
    outline: none;
    border-color: #666;
}

.question-feedback {
    margin-top: 15px;
    padding: 12px;
    border-radius: 5px;
    display: none;
}

.question-feedback.show {
    display: block;
}

.question-feedback.correct {
    background-color: #c8e6c9;
    color: #2e7d32;
    border-left: 4px solid #4caf50;
}

.question-feedback.incorrect {
    background-color: #ffcdd2;
    color: #c62828;
    border-left: 4px solid #f44336;
}

.question-feedback.info {
    background-color: #e3f2fd;
    color: #1976d2;
    border-left: 4px solid #2196f3;
}

.question-explanation {
    margin-top: 10px;
    padding-top: 10px;
    border-top: 1px solid rgba(0,0,0,0.1);
    font-style: italic;
}

.check-question-btn {
    background-color: #666;
    color: #fff;
    border: none;
    padding: 12px 24px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1em;
    font-weight: 600;
    margin-top: 15px;
    transition: background-color 0.2s;
}

.check-question-btn:hover {
    background-color: #555;
}

.check-question-btn:disabled {
    background-color: #ccc;
    cursor: not-allowed;
}

.questions-progress {
    background-color: #f9f9f9;
    padding: 15px;
    border-radius: 5px;
    margin-bottom: 20px;
}

.progress-bar {
    width: 100%;
    height: 20px;
    background-color: #ddd;
    border-radius: 10px;
    overflow: hidden;
    margin-top: 10px;
}

.progress-fill {
    height: 100%;
    background-color: #4caf50;
    transition: width 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-size: 0.8em;
    font-weight: 600;
}

    </style>
</head>
<body>
    <header>
        <h1>Module 2</h1>
        <p>Complete module materials for BIOL-1</p>
    </header>
    
    <section id="lecture_content" class="resizable">
<div class="section-header" onclick="toggleSection('lecture_content')">
<h2>Lecture Content</h2>
<div class="section-controls">
<button class="collapse-toggle" id="toggle-lecture_content" aria-label="Toggle section">▼</button>
</div>
</div>
<div class="section-content" id="content-lecture_content">
<div class="audio-section">
<h3>Audio Version</h3>
<audio controls><source src="/Users/4d/Documents/GitHub/cr-bio/biol-8/course/module-2/output/lecture-content/sample_lecture-content.mp3" type="audio/mpeg">Your browser does not support the audio element.</audio>
</div>
<div class="content-grid">
<div>
<h1>Module 2: Biodiversity and Conservation</h1>
<h2>What is Biodiversity?</h2>
<p>Biodiversity refers to the variety of life on Earth at all levels:
- <strong>Genetic Diversity</strong>: Variation within species
- <strong>Species Diversity</strong>: Variety of species in an area
- <strong>Ecosystem Diversity</strong>: Variety of ecosystems</p>
<h2>Importance of Biodiversity</h2>
<h3>Ecosystem Services</h3>
<p>Biodiversity provides essential services:
- <strong>Provisioning</strong>: Food, water, medicine, materials
- <strong>Regulating</strong>: Climate, disease, water quality
- <strong>Cultural</strong>: Recreation, aesthetic, spiritual
- <strong>Supporting</strong>: Nutrient cycling, soil formation</p>
<h3>Economic Value</h3>
<ul>
<li>Tourism and recreation</li>
<li>Pharmaceutical discoveries</li>
<li>Agricultural diversity</li>
<li>Ecosystem stability</li>
</ul>
<h2>Threats to Biodiversity</h2>
<h3>Habitat Loss</h3>
<ul>
<li>Deforestation</li>
<li>Urbanization</li>
<li>Agriculture expansion</li>
<li>Most significant threat to biodiversity</li>
</ul>
<h3>Climate Change</h3>
<ul>
<li>Shifting temperature and precipitation</li>
<li>Sea level rise</li>
<li>Ocean acidification</li>
<li>Altered migration patterns</li>
</ul>
<h3>Invasive Species</h3>
<ul>
<li>Non-native species that outcompete natives</li>
<li>Disrupt ecosystem balance</li>
<li>Examples: Zebra mussels, kudzu, cane toads</li>
</ul>
<h3>Overexploitation</h3>
<ul>
<li>Overhunting and overfishing</li>
<li>Illegal wildlife trade</li>
<li>Unsustainable harvesting</li>
</ul>
<h3>Pollution</h3>
<ul>
<li>Chemical contaminants</li>
<li>Plastic pollution</li>
<li>Nutrient runoff</li>
<li>Air and water pollution</li>
</ul>
<h2>Conservation Strategies</h2>
<h3>Protected Areas</h3>
<ul>
<li>National parks</li>
<li>Wildlife reserves</li>
<li>Marine protected areas</li>
<li>Habitat corridors</li>
</ul>
<h3>Species Conservation</h3>
<ul>
<li>Captive breeding programs</li>
<li>Reintroduction efforts</li>
<li>Habitat restoration</li>
<li>Legal protection</li>
</ul>
<h3>Sustainable Practices</h3>
<ul>
<li>Sustainable agriculture</li>
<li>Responsible fishing</li>
<li>Forest management</li>
<li>Renewable energy</li>
</ul>
<h2>Measuring Biodiversity</h2>
<h3>Species Richness</h3>
<p>Number of different species in an area.</p>
<h3>Species Evenness</h3>
<p>Relative abundance of different species.</p>
<h3>Biodiversity Indices</h3>
<ul>
<li>Shannon Index</li>
<li>Simpson Index</li>
<li>Tools for quantifying diversity</li>
</ul></div>
<div>
<h3>Plain Text Version</h3>
<div class="code-block">
<pre>Module 2: Biodiversity and Conservation

What is Biodiversity?

Biodiversity refers to the variety of life on Earth at all levels:
Genetic Diversity: Variation within species
Species Diversity: Variety of species in an area
Ecosystem Diversity: Variety of ecosystems

Importance of Biodiversity

Ecosystem Services

Biodiversity provides essential services:
Provisioning: Food, water, medicine, materials
Regulating: Climate, disease, water quality
Cultural: Recreation, aesthetic, spiritual
Supporti...</pre>
<p><a href="/Users/4d/Documents/GitHub/cr-bio/biol-8/course/module-2/output/lecture-content/sample_lecture-content.txt" download>Download Full Text</a></p>
</div>
</div>
</div>
<div class="resize-controls">
<div class="resize-slider">
<label>Width:</label>
<input type="range" id="width-lecture_content" min="300" max="1000" value="100" oninput="resizeSection('lecture_content', 'width', this.value)">
<span class="resize-value" id="width-value-lecture_content">100%</span>
</div>
<div class="resize-slider">
<label>Height:</label>
<input type="range" id="height-lecture_content" min="200" max="800" value="100" oninput="resizeSection('lecture_content', 'height', this.value)">
<span class="resize-value" id="height-value-lecture_content">100%</span>
</div>
</div>
</div>
</section>

<section id="lab_protocols" class="resizable">
<div class="section-header" onclick="toggleSection('lab_protocols')">
<h2>Lab Protocol</h2>
<div class="section-controls">
<button class="collapse-toggle" id="toggle-lab_protocols" aria-label="Toggle section">▼</button>
</div>
</div>
<div class="section-content" id="content-lab_protocols">
<div class="audio-section">
<h3>Audio Version</h3>
<audio controls><source src="/Users/4d/Documents/GitHub/cr-bio/biol-8/course/module-2/output/lab-protocols/sample_lab-protocol.mp3" type="audio/mpeg">Your browser does not support the audio element.</audio>
</div>
<div class="content-grid">
<div>
<h1>Module 2 Lab: Biodiversity Assessment</h1>
<h2>Objective</h2>
<p>To measure and compare biodiversity in different habitats.</p>
<h2>Background</h2>
<p>Biodiversity can be quantified using various indices. This lab involves sampling different habitats and calculating biodiversity measures.</p>
<h2>Materials</h2>
<ul>
<li>Quadrat frame (1m x 1m)</li>
<li>Field notebook</li>
<li>Plant identification guide</li>
<li>Calculator</li>
<li>Measuring tape</li>
</ul>
<h2>Safety</h2>
<ul>
<li>Be aware of surroundings</li>
<li>Watch for hazards</li>
<li>Do not disturb wildlife</li>
<li>Work in groups</li>
</ul>
<h2>Procedure</h2>
<h3>Part 1: Site Selection</h3>
<ol>
<li>Choose two different habitats (e.g., forest and grassland)</li>
<li>Mark study areas</li>
<li>Note habitat characteristics</li>
</ol>
<h3>Part 2: Sampling</h3>
<ol>
<li>Place quadrat randomly in each habitat</li>
<li>Identify all plant species within quadrat</li>
<li>Count individuals of each species</li>
<li>Repeat sampling 5 times per habitat</li>
<li>Record all data</li>
</ol>
<h3>Part 3: Data Analysis</h3>
<ol>
<li>Calculate species richness for each habitat</li>
<li>Calculate species evenness</li>
<li>Calculate Shannon Diversity Index</li>
<li>Compare habitats</li>
</ol>
<h2>Data Collection</h2>
<p>Create tables showing:
- Species found in each habitat
- Abundance of each species
- Total species counts
- Diversity calculations</p>
<h2>Calculations</h2>
<h3>Shannon Index</h3>
<p>H = -Σ(pi × ln(pi))</p>
<p>Where:
- pi = proportion of species i
- ln = natural logarithm</p>
<h2>Analysis Questions</h2>
<ol>
<li>Which habitat has higher biodiversity?</li>
<li>What factors might explain differences?</li>
<li>How do richness and evenness differ?</li>
<li>What are limitations of this method?</li>
</ol>
<h2>Conclusion</h2>
<p>Summarize findings and explain what they tell us about biodiversity.</p></div>
<div>
<h3>Plain Text Version</h3>
<div class="code-block">
<pre>Module 2 Lab: Biodiversity Assessment

Objective

To measure and compare biodiversity in different habitats.

Background

Biodiversity can be quantified using various indices. This lab involves sampling different habitats and calculating biodiversity measures.

Materials

Quadrat frame (1m x 1m)
Field notebook
Plant identification guide
Calculator
Measuring tape

Safety

Be aware of surroundings
Watch for hazards
Do not disturb wildlife
Work in groups

Procedure

Part 1: Site Selection

Choose t...</pre>
<p><a href="/Users/4d/Documents/GitHub/cr-bio/biol-8/course/module-2/output/lab-protocols/sample_lab-protocol.txt" download>Download Full Text</a></p>
</div>
</div>
</div>
<div class="resize-controls">
<div class="resize-slider">
<label>Width:</label>
<input type="range" id="width-lab_protocols" min="300" max="1000" value="100" oninput="resizeSection('lab_protocols', 'width', this.value)">
<span class="resize-value" id="width-value-lab_protocols">100%</span>
</div>
<div class="resize-slider">
<label>Height:</label>
<input type="range" id="height-lab_protocols" min="200" max="800" value="100" oninput="resizeSection('lab_protocols', 'height', this.value)">
<span class="resize-value" id="height-value-lab_protocols">100%</span>
</div>
</div>
</div>
</section>

<section id="study_guides" class="resizable">
<div class="section-header" onclick="toggleSection('study_guides')">
<h2>Study Guide</h2>
<div class="section-controls">
<button class="collapse-toggle" id="toggle-study_guides" aria-label="Toggle section">▼</button>
</div>
</div>
<div class="section-content" id="content-study_guides">
<div class="audio-section">
<h3>Audio Version</h3>
<audio controls><source src="/Users/4d/Documents/GitHub/cr-bio/biol-8/course/module-2/output/study-guides/sample_study-guide.mp3" type="audio/mpeg">Your browser does not support the audio element.</audio>
</div>
<div class="content-grid">
<div>
<h1>Module 2 Study Guide: Biodiversity</h1>
<h2>Key Terms</h2>
<ul>
<li><strong>Biodiversity</strong>: Variety of life</li>
<li><strong>Genetic Diversity</strong>: Variation within species</li>
<li><strong>Species Diversity</strong>: Variety of species</li>
<li><strong>Ecosystem Diversity</strong>: Variety of ecosystems</li>
<li><strong>Ecosystem Services</strong>: Benefits from ecosystems</li>
<li><strong>Habitat Loss</strong>: Destruction of natural habitats</li>
<li><strong>Invasive Species</strong>: Non-native harmful species</li>
<li><strong>Overexploitation</strong>: Excessive harvesting</li>
<li><strong>Conservation</strong>: Protection of biodiversity</li>
<li><strong>Endangered</strong>: At risk of extinction</li>
</ul>
<h2>Levels of Biodiversity</h2>
<ol>
<li><strong>Genetic</strong>: Variation within species</li>
<li><strong>Species</strong>: Number of different species</li>
<li><strong>Ecosystem</strong>: Variety of ecosystem types</li>
</ol>
<h2>Ecosystem Services</h2>
<ul>
<li><strong>Provisioning</strong>: Food, water, materials</li>
<li><strong>Regulating</strong>: Climate, disease control</li>
<li><strong>Cultural</strong>: Recreation, aesthetics</li>
<li><strong>Supporting</strong>: Nutrient cycling</li>
</ul>
<h2>Major Threats</h2>
<ol>
<li>Habitat loss and fragmentation</li>
<li>Climate change</li>
<li>Invasive species</li>
<li>Overexploitation</li>
<li>Pollution</li>
</ol>
<h2>Conservation Methods</h2>
<ul>
<li>Protected areas</li>
<li>Species conservation programs</li>
<li>Habitat restoration</li>
<li>Sustainable practices</li>
<li>Legal protection</li>
</ul>
<h2>Study Questions</h2>
<ol>
<li>What are the three levels of biodiversity?</li>
<li>Why is biodiversity important?</li>
<li>What are the main threats to biodiversity?</li>
<li>How can we conserve biodiversity?</li>
<li>What is the role of protected areas?</li>
</ol>
<h2>Practice</h2>
<ul>
<li>Calculate biodiversity indices</li>
<li>Identify threats to local species</li>
<li>Design conservation strategies</li>
<li>Evaluate ecosystem services</li>
</ul></div>
<div>
<h3>Plain Text Version</h3>
<div class="code-block">
<pre>Module 2 Study Guide: Biodiversity

Key Terms

Biodiversity: Variety of life
Genetic Diversity: Variation within species
Species Diversity: Variety of species
Ecosystem Diversity: Variety of ecosystems
Ecosystem Services: Benefits from ecosystems
Habitat Loss: Destruction of natural habitats
Invasive Species: Non-native harmful species
Overexploitation: Excessive harvesting
Conservation: Protection of biodiversity
Endangered: At risk of extinction

Levels of Biodiversity

Genetic: Variation with...</pre>
<p><a href="/Users/4d/Documents/GitHub/cr-bio/biol-8/course/module-2/output/study-guides/sample_study-guide.txt" download>Download Full Text</a></p>
</div>
</div>
</div>
<div class="resize-controls">
<div class="resize-slider">
<label>Width:</label>
<input type="range" id="width-study_guides" min="300" max="1000" value="100" oninput="resizeSection('study_guides', 'width', this.value)">
<span class="resize-value" id="width-value-study_guides">100%</span>
</div>
<div class="resize-slider">
<label>Height:</label>
<input type="range" id="height-study_guides" min="200" max="800" value="100" oninput="resizeSection('study_guides', 'height', this.value)">
<span class="resize-value" id="height-value-study_guides">100%</span>
</div>
</div>
</div>
</section>

<section id="assignments" class="resizable">
<div class="section-header" onclick="toggleSection('assignments')">
<h2>Assignments</h2>
<div class="section-controls">
<button class="collapse-toggle" id="toggle-assignments" aria-label="Toggle section">▼</button>
</div>
</div>
<div class="section-content" id="content-assignments">
<div class="assignment-item">
<h1>Module 2 Assignments Technical Documentation</h1>
<h2>Assignment Management</h2>
<h3>File Organization</h3>
<ul>
<li>All assignments stored in this directory</li>
<li>Sequential numbering: <code>module-2-assignment-1</code>, <code>module-2-assignment-2</code>, etc.</li>
<li>Descriptive suffixes for topic identification</li>
</ul>
<h3>Naming Convention</h3>
<ul>
<li>Format: <code>module-2-assignment-[number]-[description].md</code></li>
<li>Number: Sequential assignment number</li>
<li>Description: Brief topic or title identifier</li>
</ul>
<h3>File Structure</h3>
<p>Assignment files should include:
- Assignment title
- Instructions
- Requirements
- Submission guidelines
- Due dates</p>
<h2>Workflow</h2>
<h3>Creating Assignments</h3>
<ol>
<li>Create file with proper naming convention</li>
<li>Include standard assignment sections</li>
<li>Update parent module README.md with assignment reference</li>
<li>Document in this AGENTS.md file</li>
</ol>
<h3>Updating Assignments</h3>
<ol>
<li>Maintain version history for major changes</li>
<li>Update assignment index in README.md</li>
<li>Document changes in this file</li>
</ol>
<h2>Quality Checks</h2>
<ul>
<li>Verify naming convention compliance</li>
<li>Ensure all required sections are present</li>
<li>Check for consistency across assignments</li>
<li>Validate file format and structure</li>
</ul><div class="audio-section">
<h4>Audio Version</h4>
<audio controls><source src="/Users/4d/Documents/GitHub/cr-bio/biol-8/course/module-2/output/assignments/AGENTS.mp3" type="audio/mpeg">Your browser does not support the audio element.</audio>
</div>
</div>
<hr style='margin: 30px 0; border: none; border-top: 1px solid #ddd;'>
<div class="assignment-item">
<h1>Module 2 Assignments</h1>
<h2>Overview</h2>
<p>This directory contains assignment files for Module 2.</p>
<h2>Assignment Files</h2>
<p>Assignment files will be added to this directory as they are created.</p>
<h2>File Naming</h2>
<p>Assignments follow the naming convention: <code>module-2-assignment-[number]-[description].md</code></p>
<h2>Documentation</h2>
<ul>
<li><strong><a href="AGENTS.md">AGENTS.md</a></strong>: Technical documentation for assignment management processes</li>
</ul><div class="audio-section">
<h4>Audio Version</h4>
<audio controls><source src="/Users/4d/Documents/GitHub/cr-bio/biol-8/course/module-2/output/assignments/README.mp3" type="audio/mpeg">Your browser does not support the audio element.</audio>
</div>
</div>
<hr style='margin: 30px 0; border: none; border-top: 1px solid #ddd;'>
<div class="assignment-item">
<h1>Assignment 1: Biodiversity Analysis</h1>
<h2>Purpose</h2>
<p>Analyze biodiversity in a local area and evaluate conservation needs.</p>
<h2>Tasks</h2>
<h3>Task 1: Biodiversity Inventory (25 points)</h3>
<p>Conduct a biodiversity survey of a local area:
- Identify at least 15 species
- Document species abundance
- Note habitat characteristics
- Create species list with photos or sketches</p>
<h3>Task 2: Diversity Calculations (25 points)</h3>
<p>Calculate biodiversity indices:
- Species richness
- Species evenness
- Shannon Diversity Index
- Compare to other areas if possible</p>
<h3>Task 3: Threat Assessment (25 points)</h3>
<p>Identify threats to local biodiversity:
- Habitat loss
- Invasive species
- Pollution
- Climate change impacts
- Human activities</p>
<h3>Task 4: Conservation Plan (25 points)</h3>
<p>Develop a conservation plan:
- Priority species or habitats
- Specific conservation actions
- Stakeholder involvement
- Success metrics
- Timeline</p>
<h2>Format</h2>
<ul>
<li>4-6 pages</li>
<li>Include data tables and calculations</li>
<li>Use proper scientific format</li>
<li>Include maps or diagrams</li>
</ul>
<h2>Submission</h2>
<p>Submit via Canvas with all supporting materials.</p><div class="audio-section">
<h4>Audio Version</h4>
<audio controls><source src="/Users/4d/Documents/GitHub/cr-bio/biol-8/course/module-2/output/assignments/sample_assignment-1-introduction.mp3" type="audio/mpeg">Your browser does not support the audio element.</audio>
</div>
</div>
<hr style='margin: 30px 0; border: none; border-top: 1px solid #ddd;'>
<div class="assignment-item">
<h1>Assignment 2: Endangered Species Research</h1>
<h2>Objective</h2>
<p>Research an endangered species and develop a comprehensive conservation report.</p>
<h2>Species Selection</h2>
<p>Choose an endangered species (must be approved):
- Terrestrial or marine
- Local or global focus
- Sufficient research available</p>
<h2>Report Sections</h2>
<h3>1. Species Overview (20 points)</h3>
<ul>
<li>Scientific and common names</li>
<li>Physical description</li>
<li>Geographic range</li>
<li>Habitat requirements</li>
<li>Life history characteristics</li>
</ul>
<h3>2. Population Status (20 points)</h3>
<ul>
<li>Current population size</li>
<li>Population trends</li>
<li>Historical distribution</li>
<li>Threats to survival</li>
<li>IUCN Red List status</li>
</ul>
<h3>3. Threats Analysis (25 points)</h3>
<ul>
<li>Primary threats (habitat loss, climate change, etc.)</li>
<li>Secondary threats</li>
<li>Human impacts</li>
<li>Natural challenges</li>
<li>Threat severity assessment</li>
</ul>
<h3>4. Conservation Efforts (20 points)</h3>
<ul>
<li>Current conservation programs</li>
<li>Protected areas</li>
<li>Captive breeding (if applicable)</li>
<li>Legal protection</li>
<li>International cooperation</li>
</ul>
<h3>5. Recommendations (15 points)</h3>
<ul>
<li>Priority actions needed</li>
<li>Funding requirements</li>
<li>Stakeholder involvement</li>
<li>Timeline for recovery</li>
<li>Success indicators</li>
</ul>
<h2>Research Requirements</h2>
<ul>
<li>Minimum 6 credible sources</li>
<li>Recent data (within 5 years)</li>
<li>Scientific journals preferred</li>
<li>Proper citations (APA format)</li>
<li>7-10 pages</li>
</ul>
<h2>Presentation</h2>
<p>Create a 10-minute presentation covering key points for class sharing.</p>
<h2>Due Date</h2>
<p>See course schedule. Submit report and presentation via Canvas.</p><div class="audio-section">
<h4>Audio Version</h4>
<audio controls><source src="/Users/4d/Documents/GitHub/cr-bio/biol-8/course/module-2/output/assignments/sample_assignment-2-research.mp3" type="audio/mpeg">Your browser does not support the audio element.</audio>
</div>
</div>
<hr style='margin: 30px 0; border: none; border-top: 1px solid #ddd;'>
<div class="resize-controls">
<div class="resize-slider">
<label>Width:</label>
<input type="range" id="width-assignments" min="300" max="1000" value="100" oninput="resizeSection('assignments', 'width', this.value)">
<span class="resize-value" id="width-value-assignments">100%</span>
</div>
<div class="resize-slider">
<label>Height:</label>
<input type="range" id="height-assignments" min="200" max="800" value="100" oninput="resizeSection('assignments', 'height', this.value)">
<span class="resize-value" id="height-value-assignments">100%</span>
</div>
</div>
</div>
</section>

<section id="questions" class="resizable">
<div class="section-header" onclick="toggleSection('questions')">
<h2>Interactive Questions</h2>
<div class="section-controls">
<button class="collapse-toggle" id="toggle-questions" aria-label="Toggle section">▼</button>
</div>
</div>
<div class="section-content" id="content-questions">
<div class="questions-progress">
<p><strong>Progress:</strong> <span id="questions-completed">0</span> / <span id="questions-total">6</span> completed</p>
<div class="progress-bar"><div class="progress-fill" id="progress-fill" style="width: 0%">0%</div></div>
</div>
<div class="question-container" id="question-q1">
<div class="question-header">
<div class="question-text">Question 1: What are the seven characteristics of life?</div>
<span class="question-type-badge">multiple choice</span>
</div>
<ul class="multiple-choice-options">
<li class="multiple-choice-option" onclick="selectMultipleChoice('q1', 0)">
<input type="radio" name="mc-q1" id="mc-q1-0" value="0">
<label for="mc-q1-0">Organization, Metabolism, Homeostasis</label>
</li>
<li class="multiple-choice-option" onclick="selectMultipleChoice('q1', 1)">
<input type="radio" name="mc-q1" id="mc-q1-1" value="1">
<label for="mc-q1-1">Growth, Reproduction, Response to Stimuli</label>
</li>
<li class="multiple-choice-option" onclick="selectMultipleChoice('q1', 2)">
<input type="radio" name="mc-q1" id="mc-q1-2" value="2">
<label for="mc-q1-2">Evolution, Organization, Metabolism</label>
</li>
<li class="multiple-choice-option" onclick="selectMultipleChoice('q1', 3)">
<input type="radio" name="mc-q1" id="mc-q1-3" value="3">
<label for="mc-q1-3">All of the above are characteristics of life</label>
</li>
</ul>
<input type="hidden" id="correct-q1" value="3">
<input type="hidden" id="explanation-q1" value="All living organisms share seven characteristics: Organization, Metabolism, Homeostasis, Growth and Development, Reproduction, Response to Stimuli, and Evolution.">
<button class="check-question-btn" onclick="checkQuestion('q1', 'multiple_choice')">Check Answer</button>
<div class="question-feedback" id="feedback-q1"></div>
</div>
<div class="question-container" id="question-q2">
<div class="question-header">
<div class="question-text">Question 2: Describe the levels of biological organization from smallest to largest.</div>
<span class="question-type-badge">free response</span>
</div>
<textarea class="free-response-textarea" id="fr-q2" placeholder="Start with atoms and molecules, then progress through cells, tissues, organs..." maxlength="1000" oninput="updateCharCount('q2', this.value.length, 1000)"></textarea>
<div class="char-count" id="char-count-q2">0 / 1000 characters</div>
<button class="check-question-btn" onclick="checkQuestion('q2', 'free_response')">Check Answer</button>
<div class="question-feedback" id="feedback-q2"></div>
</div>
<div class="question-container" id="question-q3">
<div class="question-header">
<div class="question-text">Question 3: Cells are the fundamental unit of life.</div>
<span class="question-type-badge">true false</span>
</div>
<div class="true-false-buttons">
<button class="true-false-btn" onclick="selectTrueFalse('q3', true)">True</button>
<button class="true-false-btn" onclick="selectTrueFalse('q3', false)">False</button>
</div>
<input type="hidden" id="correct-q3" value="true">
<input type="hidden" id="explanation-q3" value="Cells are indeed the basic unit of life. All living organisms are composed of one or more cells.">
<button class="check-question-btn" onclick="checkQuestion('q3', 'true_false')">Check Answer</button>
<div class="question-feedback" id="feedback-q3"></div>
</div>
<div class="question-container" id="question-q4">
<div class="question-header">
<div class="question-text">Question 4: Match the biological terms with their definitions.</div>
<span class="question-type-badge">matching</span>
</div>
<div class="matching-container">
<div class="matching-pairs">
<div class="matching-item">
<div class="matching-term">Homeostasis</div>
<select class="matching-select" id="match-q4-0" onchange="updateMatching('q4')">
<option value="">Select definition...</option>
<option value="0">The maintenance of stable internal conditions in an organism</option>
<option value="1">The sum of all chemical reactions in an organism</option>
<option value="2">Change in populations over time</option>
<option value="3">A testable explanation for observations</option>
</select>
<input type="hidden" id="correct-match-q4-0" value="0">
</div>
<div class="matching-item">
<div class="matching-term">Metabolism</div>
<select class="matching-select" id="match-q4-1" onchange="updateMatching('q4')">
<option value="">Select definition...</option>
<option value="0">The maintenance of stable internal conditions in an organism</option>
<option value="1">The sum of all chemical reactions in an organism</option>
<option value="2">Change in populations over time</option>
<option value="3">A testable explanation for observations</option>
</select>
<input type="hidden" id="correct-match-q4-1" value="1">
</div>
<div class="matching-item">
<div class="matching-term">Evolution</div>
<select class="matching-select" id="match-q4-2" onchange="updateMatching('q4')">
<option value="">Select definition...</option>
<option value="0">The maintenance of stable internal conditions in an organism</option>
<option value="1">The sum of all chemical reactions in an organism</option>
<option value="2">Change in populations over time</option>
<option value="3">A testable explanation for observations</option>
</select>
<input type="hidden" id="correct-match-q4-2" value="2">
</div>
<div class="matching-item">
<div class="matching-term">Hypothesis</div>
<select class="matching-select" id="match-q4-3" onchange="updateMatching('q4')">
<option value="">Select definition...</option>
<option value="0">The maintenance of stable internal conditions in an organism</option>
<option value="1">The sum of all chemical reactions in an organism</option>
<option value="2">Change in populations over time</option>
<option value="3">A testable explanation for observations</option>
</select>
<input type="hidden" id="correct-match-q4-3" value="3">
</div>
</div>
</div>
<button class="check-question-btn" onclick="checkQuestion('q4', 'matching')">Check Answer</button>
<div class="question-feedback" id="feedback-q4"></div>
</div>
<div class="question-container" id="question-q5">
<div class="question-header">
<div class="question-text">Question 5: Which of the following is the correct order of the scientific method?</div>
<span class="question-type-badge">multiple choice</span>
</div>
<ul class="multiple-choice-options">
<li class="multiple-choice-option" onclick="selectMultipleChoice('q5', 0)">
<input type="radio" name="mc-q5" id="mc-q5-0" value="0">
<label for="mc-q5-0">Observation, Question, Hypothesis, Experiment, Analysis, Conclusion</label>
</li>
<li class="multiple-choice-option" onclick="selectMultipleChoice('q5', 1)">
<input type="radio" name="mc-q5" id="mc-q5-1" value="1">
<label for="mc-q5-1">Hypothesis, Experiment, Observation, Conclusion</label>
</li>
<li class="multiple-choice-option" onclick="selectMultipleChoice('q5', 2)">
<input type="radio" name="mc-q5" id="mc-q5-2" value="2">
<label for="mc-q5-2">Question, Experiment, Hypothesis, Conclusion</label>
</li>
<li class="multiple-choice-option" onclick="selectMultipleChoice('q5', 3)">
<input type="radio" name="mc-q5" id="mc-q5-3" value="3">
<label for="mc-q5-3">Observation, Experiment, Hypothesis, Conclusion</label>
</li>
</ul>
<input type="hidden" id="correct-q5" value="0">
<input type="hidden" id="explanation-q5" value="The scientific method follows this sequence: Observation → Question → Hypothesis → Experiment → Analysis → Conclusion.">
<button class="check-question-btn" onclick="checkQuestion('q5', 'multiple_choice')">Check Answer</button>
<div class="question-feedback" id="feedback-q5"></div>
</div>
<div class="question-container" id="question-q6">
<div class="question-header">
<div class="question-text">Question 6: Explain how living things differ from non-living things. Provide at least three characteristics.</div>
<span class="question-type-badge">free response</span>
</div>
<textarea class="free-response-textarea" id="fr-q6" placeholder="Consider characteristics like organization, metabolism, and reproduction..." maxlength="800" oninput="updateCharCount('q6', this.value.length, 800)"></textarea>
<div class="char-count" id="char-count-q6">0 / 800 characters</div>
<button class="check-question-btn" onclick="checkQuestion('q6', 'free_response')">Check Answer</button>
<div class="question-feedback" id="feedback-q6"></div>
</div>
<div class="resize-controls">
<div class="resize-slider">
<label>Width:</label>
<input type="range" id="width-questions" min="300" max="1000" value="100" oninput="resizeSection('questions', 'width', this.value)">
<span class="resize-value" id="width-value-questions">100%</span>
</div>
<div class="resize-slider">
<label>Height:</label>
<input type="range" id="height-questions" min="200" max="800" value="100" oninput="resizeSection('questions', 'height', this.value)">
<span class="resize-value" id="height-value-questions">100%</span>
</div>
</div>
</div>
</section>

    
    <footer>
        <p>Generated for BIOL-1</p>
    </footer>
    
    <script>

    // Section collapse/expand functionality
    function toggleSection(sectionId) {
        const content = document.getElementById('content-' + sectionId);
        const toggle = document.getElementById('toggle-' + sectionId);
        
        if (content.classList.contains('collapsed')) {
            content.classList.remove('collapsed');
            toggle.classList.remove('collapsed');
            toggle.textContent = '▼';
            localStorage.setItem('section-' + sectionId, 'expanded');
        } else {
            content.classList.add('collapsed');
            toggle.classList.add('collapsed');
            toggle.textContent = '▶';
            localStorage.setItem('section-' + sectionId, 'collapsed');
        }
    }

    // Restore section states from localStorage
    function restoreSectionStates() {
        document.querySelectorAll('.section-content').forEach(content => {
            const sectionId = content.id.replace('content-', '');
            const state = localStorage.getItem('section-' + sectionId);
            if (state === 'collapsed') {
                content.classList.add('collapsed');
                const toggle = document.getElementById('toggle-' + sectionId);
                if (toggle) {
                    toggle.classList.add('collapsed');
                    toggle.textContent = '▶';
                }
            }
        });
    }

    // Resize section functionality
    function resizeSection(sectionId, dimension, value) {
        const section = document.getElementById(sectionId);
        const valueDisplay = document.getElementById(dimension + '-value-' + sectionId);
        
        if (dimension === 'width') {
            const width = 300 + (value / 100) * 700; // 300-1000px range
            section.style.width = width + 'px';
            valueDisplay.textContent = Math.round(width) + 'px';
            localStorage.setItem('section-' + sectionId + '-width', width);
        } else if (dimension === 'height') {
            const height = 200 + (value / 100) * 600; // 200-800px range
            section.style.height = height + 'px';
            valueDisplay.textContent = Math.round(height) + 'px';
            localStorage.setItem('section-' + sectionId + '-height', height);
        }
    }

    // Restore resize preferences from localStorage
    function restoreResizePreferences() {
        document.querySelectorAll('.resizable').forEach(section => {
            const sectionId = section.id;
            const savedWidth = localStorage.getItem('section-' + sectionId + '-width');
            const savedHeight = localStorage.getItem('section-' + sectionId + '-height');
            
            if (savedWidth) {
                section.style.width = savedWidth + 'px';
                const widthSlider = document.getElementById('width-' + sectionId);
                const widthValue = document.getElementById('width-value-' + sectionId);
                if (widthSlider && widthValue) {
                    const sliderValue = ((parseFloat(savedWidth) - 300) / 700) * 100;
                    widthSlider.value = sliderValue;
                    widthValue.textContent = Math.round(savedWidth) + 'px';
                }
            }
            
            if (savedHeight) {
                section.style.height = savedHeight + 'px';
                const heightSlider = document.getElementById('height-' + sectionId);
                const heightValue = document.getElementById('height-value-' + sectionId);
                if (heightSlider && heightValue) {
                    const sliderValue = ((parseFloat(savedHeight) - 200) / 600) * 100;
                    heightSlider.value = sliderValue;
                    heightValue.textContent = Math.round(savedHeight) + 'px';
                }
            }
        });
    }

    // Question state tracking
    let questionStates = {};
    let completedQuestions = new Set();

    // Multiple choice question handling
    function selectMultipleChoice(questionId, optionIndex) {
        const options = document.querySelectorAll('#question-' + questionId + ' .multiple-choice-option');
        options.forEach(opt => opt.classList.remove('selected'));
        
        const selectedOption = document.querySelector(`#mc-${questionId}-${optionIndex}`).closest('.multiple-choice-option');
        selectedOption.classList.add('selected');
        document.querySelector(`#mc-${questionId}-${optionIndex}`).checked = true;
        
        questionStates[questionId] = { type: 'multiple_choice', answer: optionIndex };
    }

    // Free response question handling
    function updateCharCount(questionId, current, max) {
        const charCount = document.getElementById('char-count-' + questionId);
        if (charCount) {
            charCount.textContent = current + ' / ' + max + ' characters';
        }
        
        const textarea = document.getElementById('fr-' + questionId);
        if (textarea && textarea.value.trim()) {
            questionStates[questionId] = { type: 'free_response', answer: textarea.value };
        }
    }

    // True/False question handling
    function selectTrueFalse(questionId, value) {
        const buttons = document.querySelectorAll('#question-' + questionId + ' .true-false-btn');
        buttons.forEach(btn => btn.classList.remove('selected'));
        
        const selectedBtn = value ? buttons[0] : buttons[1];
        selectedBtn.classList.add('selected');
        
        questionStates[questionId] = { type: 'true_false', answer: value };
    }

    // Matching question handling
    function updateMatching(questionId) {
        questionStates[questionId] = { type: 'matching', answers: {} };
        const selects = document.querySelectorAll('#question-' + questionId + ' .matching-select');
        selects.forEach((select, idx) => {
            if (select.value !== '') {
                questionStates[questionId].answers[idx] = parseInt(select.value);
            }
        });
    }

    // Check question answer
    function checkQuestion(questionId, questionType) {
        const feedback = document.getElementById('feedback-' + questionId);
        const state = questionStates[questionId];
        
        if (!state || (questionType !== 'free_response' && state.answer === undefined && (!state.answers || Object.keys(state.answers).length === 0))) {
            feedback.textContent = 'Please provide an answer first.';
            feedback.className = 'question-feedback show info';
            return;
        }

        let isCorrect = false;
        let explanation = '';

        if (questionType === 'multiple_choice') {
            const correctAnswer = document.getElementById('correct-' + questionId);
            if (correctAnswer) {
                const correct = parseInt(correctAnswer.value);
                isCorrect = state.answer === correct;
                
                const options = document.querySelectorAll('#question-' + questionId + ' .multiple-choice-option');
                options.forEach((opt, idx) => {
                    opt.classList.remove('correct', 'incorrect');
                    if (idx === correct) {
                        opt.classList.add('correct');
                    } else if (idx === state.answer && !isCorrect) {
                        opt.classList.add('incorrect');
                    }
                });
            }
        } else if (questionType === 'true_false') {
            const correctAnswer = document.getElementById('correct-' + questionId);
            if (correctAnswer) {
                const correct = correctAnswer.value === 'true';
                isCorrect = state.answer === correct;
                
                const buttons = document.querySelectorAll('#question-' + questionId + ' .true-false-btn');
                buttons.forEach((btn, idx) => {
                    btn.classList.remove('correct', 'incorrect');
                    const btnValue = idx === 0;
                    if (btnValue === correct) {
                        btn.classList.add('correct');
                    } else if (btnValue === state.answer && !isCorrect) {
                        btn.classList.add('incorrect');
                    }
                });
            }
        } else if (questionType === 'matching') {
            let allCorrect = true;
            const selects = document.querySelectorAll('#question-' + questionId + ' .matching-select');
            selects.forEach((select, idx) => {
                const correctInput = document.getElementById('correct-match-' + questionId + '-' + idx);
                if (correctInput) {
                    const correct = parseInt(correctInput.value);
                    const selected = select.value !== '' ? parseInt(select.value) : -1;
                    if (selected === correct) {
                        select.style.borderColor = '#4caf50';
                    } else {
                        select.style.borderColor = '#f44336';
                        allCorrect = false;
                    }
                }
            });
            isCorrect = allCorrect && Object.keys(state.answers || {}).length === selects.length;
        } else if (questionType === 'free_response') {
            // Free response is always considered "answered" for progress tracking
            isCorrect = true; // For progress purposes
            feedback.textContent = 'Answer submitted. Review your response and compare with course materials.';
            feedback.className = 'question-feedback show info';
            
            const explanationEl = document.getElementById('explanation-' + questionId);
            if (explanationEl) {
                feedback.innerHTML += '<div class="question-explanation">' + explanationEl.value + '</div>';
            }
            
            updateProgress();
            return;
        }

        const explanationEl = document.getElementById('explanation-' + questionId);
        if (explanationEl) {
            explanation = explanationEl.value;
        }

        if (isCorrect) {
            feedback.textContent = 'Correct!';
            feedback.className = 'question-feedback show correct';
            if (explanation) {
                feedback.innerHTML += '<div class="question-explanation">' + explanation + '</div>';
            }
            completedQuestions.add(questionId);
        } else {
            feedback.textContent = 'Incorrect. Please try again.';
            feedback.className = 'question-feedback show incorrect';
            if (explanation) {
                feedback.innerHTML += '<div class="question-explanation">' + explanation + '</div>';
            }
        }

        updateProgress();
    }

    // Update progress bar
    function updateProgress() {
        const totalEl = document.getElementById('questions-total');
        if (!totalEl) return;
        
        const total = parseInt(totalEl.textContent);
        const completed = completedQuestions.size;
        
        document.getElementById('questions-completed').textContent = completed;
        const percentage = total > 0 ? Math.round((completed / total) * 100) : 0;
        
        const progressFill = document.getElementById('progress-fill');
        if (progressFill) {
            progressFill.style.width = percentage + '%';
            progressFill.textContent = percentage + '%';
        }
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
        restoreSectionStates();
        restoreResizePreferences();
        
        // Load saved question states
        const savedStates = localStorage.getItem('questionStates');
        if (savedStates) {
            try {
                questionStates = JSON.parse(savedStates);
            } catch (e) {
                questionStates = {};
            }
        }
        
        const savedCompleted = localStorage.getItem('completedQuestions');
        if (savedCompleted) {
            try {
                completedQuestions = new Set(JSON.parse(savedCompleted));
                updateProgress();
            } catch (e) {
                completedQuestions = new Set();
            }
        }
    });

    // Save question states periodically
    setInterval(function() {
        localStorage.setItem('questionStates', JSON.stringify(questionStates));
        localStorage.setItem('completedQuestions', JSON.stringify(Array.from(completedQuestions)));
    }, 2000);
    
    </script>
</body>
</html>
